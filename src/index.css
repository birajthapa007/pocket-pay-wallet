@tailwind base;
@tailwind components;
@tailwind utilities;

/* Pocket Pay Design System
   Premium, calm, dark fintech theme
   Inspired by Revolut, N26, Mercury
*/

@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');

@layer base {
  :root {
    /* Premium dark palette - calm and sophisticated */
    --background: 225 25% 8%;
    --foreground: 210 20% 95%;

    --card: 225 20% 11%;
    --card-foreground: 210 20% 95%;

    --popover: 225 20% 13%;
    --popover-foreground: 210 20% 95%;

    /* Primary - Refined teal/cyan accent */
    --primary: 175 70% 50%;
    --primary-foreground: 225 25% 8%;
    --primary-soft: 175 50% 15%;
    --primary-glow: 175 70% 50%;

    /* Secondary - Elevated surface */
    --secondary: 225 18% 14%;
    --secondary-foreground: 210 20% 90%;

    --muted: 225 15% 18%;
    --muted-foreground: 220 10% 55%;

    --accent: 175 40% 20%;
    --accent-foreground: 175 70% 70%;

    /* Status colors - softer for dark theme */
    --success: 160 65% 45%;
    --success-foreground: 160 90% 95%;
    --success-soft: 160 50% 12%;

    --warning: 38 92% 50%;
    --warning-foreground: 38 100% 95%;
    --warning-soft: 38 60% 12%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 0 0% 100%;
    --destructive-soft: 0 50% 12%;

    --info: 210 80% 55%;
    --info-foreground: 210 100% 95%;
    --info-soft: 210 60% 12%;

    --border: 225 15% 18%;
    --input: 225 15% 16%;
    --ring: 175 70% 50%;

    --radius: 1rem;

    /* Sidebar */
    --sidebar-background: 225 25% 8%;
    --sidebar-foreground: 210 20% 95%;
    --sidebar-primary: 175 70% 50%;
    --sidebar-primary-foreground: 225 25% 8%;
    --sidebar-accent: 225 18% 14%;
    --sidebar-accent-foreground: 210 20% 90%;
    --sidebar-border: 225 15% 18%;
    --sidebar-ring: 175 70% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html, body {
    overflow-x: hidden;
    overscroll-behavior: none;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Plus Jakarta Sans', system-ui, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  html {
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
  }
}

@layer components {
  /* Balance display - responsive */
  .balance-display {
    @apply text-4xl sm:text-5xl font-extrabold tracking-tight;
    font-variant-numeric: tabular-nums;
  }

  .balance-cents {
    @apply text-2xl sm:text-3xl font-bold opacity-70;
  }

  /* Premium wallet card */
  .wallet-card {
    background: linear-gradient(135deg, hsl(225 20% 14%) 0%, hsl(225 25% 10%) 100%);
    border: 1px solid hsl(225 15% 22%);
    @apply rounded-3xl p-5 sm:p-6 relative overflow-hidden;
  }

  .wallet-card::before {
    content: '';
    @apply absolute inset-0 opacity-30;
    background: radial-gradient(ellipse at 20% 0%, hsl(175 70% 50% / 0.15) 0%, transparent 50%);
  }

  .wallet-card::after {
    content: '';
    @apply absolute inset-0 opacity-20;
    background: radial-gradient(ellipse at 80% 100%, hsl(175 70% 50% / 0.1) 0%, transparent 40%);
  }

  /* Card display */
  .card-display {
    background: linear-gradient(135deg, hsl(225 20% 16%) 0%, hsl(225 25% 12%) 100%);
    border: 1px solid hsl(225 15% 22%);
  }

  /* Action buttons */
  .action-button {
    @apply flex flex-col items-center justify-center gap-2 p-3 sm:p-4 rounded-2xl transition-all duration-200;
    @apply bg-secondary border border-border/50;
  }

  .action-button:hover {
    @apply bg-muted border-primary/30;
  }

  .action-button:active {
    transform: scale(0.97);
  }

  .action-button-icon {
    @apply w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center;
    background: linear-gradient(135deg, hsl(175 70% 50%) 0%, hsl(175 60% 40%) 100%);
  }

  /* Transaction item - touch friendly */
  .transaction-item {
    @apply flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-2xl transition-all duration-200;
    @apply bg-secondary/50 border border-transparent;
    min-height: 72px;
    -webkit-tap-highlight-color: transparent;
  }

  .transaction-item:hover {
    @apply bg-secondary border-border/50;
  }

  .transaction-item:active {
    @apply bg-muted;
  }

  /* Status badges */
  .status-completed {
    @apply bg-success-soft;
    color: hsl(160 65% 55%);
  }

  .status-pending {
    @apply bg-warning-soft;
    color: hsl(38 92% 60%);
  }

  .status-blocked {
    @apply bg-destructive-soft text-destructive;
  }

  /* Security prompt */
  .security-prompt {
    @apply bg-warning-soft rounded-2xl p-5;
    border: 1px solid hsl(38 92% 50% / 0.2);
  }

  /* Insight card */
  .insight-card {
    @apply bg-card rounded-2xl p-5 border border-border/50;
  }

  /* Mobile input */
  .mobile-input {
    @apply w-full px-4 py-4 rounded-xl bg-secondary border border-border/50;
    @apply text-lg text-foreground transition-all;
  }

  .mobile-input::placeholder {
    @apply text-muted-foreground;
  }

  .mobile-input:focus {
    @apply ring-2 ring-primary/30 border-primary/50 outline-none;
  }

  /* Amount input - responsive */
  .amount-input {
    @apply text-4xl sm:text-5xl font-bold text-center bg-transparent border-0 text-foreground;
    @apply outline-none;
    font-variant-numeric: tabular-nums;
  }

  /* Screen container - mobile optimized, no horizontal scroll */
  .screen-container {
    @apply max-w-md mx-auto px-4 py-5;
    min-height: 100dvh; /* Use dynamic viewport height for mobile */
    overflow-x: hidden;
  }

  /* Bottom navigation - touch friendly */
  .bottom-nav {
    @apply fixed bottom-0 left-0 right-0 z-50;
    background: linear-gradient(180deg, transparent 0%, hsl(225 25% 8%) 20%);
    @apply px-3 sm:px-4 pt-6 pb-3;
    padding-bottom: max(env(safe-area-inset-bottom), 0.75rem);
  }

  .bottom-nav-inner {
    @apply flex justify-around items-center;
    @apply bg-card/90 backdrop-blur-xl border border-border/50 rounded-2xl;
    @apply px-2 py-2;
  }

  .nav-item {
    @apply flex flex-col items-center gap-1 py-2 px-5 rounded-xl transition-all duration-200;
    @apply text-muted-foreground;
  }

  .nav-item:hover {
    @apply text-foreground;
  }

  .nav-item.active {
    @apply text-primary bg-primary-soft;
  }

  /* Keypad button - touch friendly */
  .keypad-button {
    @apply w-14 h-14 sm:w-16 sm:h-16 rounded-2xl flex items-center justify-center;
    @apply text-xl sm:text-2xl font-semibold transition-all duration-150;
    @apply text-foreground;
    -webkit-tap-highlight-color: transparent;
  }

  .keypad-button:hover {
    @apply bg-secondary;
  }

  .keypad-button:active {
    transform: scale(0.92);
    @apply bg-muted;
  }

  /* Settings item - touch friendly */
  .settings-item {
    @apply flex items-center gap-3 sm:gap-4 p-3 sm:p-4 rounded-2xl transition-all duration-200;
    @apply bg-transparent;
    min-height: 64px;
    -webkit-tap-highlight-color: transparent;
  }

  .settings-item:hover {
    @apply bg-secondary/50;
  }

  .settings-item:active {
    @apply bg-secondary;
  }

  /* Menu section */
  .menu-section {
    @apply bg-card rounded-2xl border border-border/50 overflow-hidden;
  }

  .menu-section > *:not(:last-child) {
    @apply border-b border-border/50;
  }

  /* Profile card */
  .profile-card {
    @apply bg-card rounded-3xl p-6 border border-border/50;
    background: linear-gradient(135deg, hsl(225 20% 13%) 0%, hsl(225 25% 10%) 100%);
  }

  /* Toggle switch track */
  .toggle-track {
    @apply w-12 h-7 rounded-full transition-colors duration-200;
    @apply bg-muted;
  }

  .toggle-track.active {
    @apply bg-primary;
  }

  .toggle-thumb {
    @apply w-5 h-5 rounded-full bg-foreground shadow-lg transition-transform duration-200;
  }

  .toggle-track.active .toggle-thumb {
    transform: translateX(20px);
  }
}

@layer utilities {
  .safe-top {
    padding-top: env(safe-area-inset-top, 1rem);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom, 1rem);
  }

  .page-enter {
    @apply animate-fade-in;
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .glow-primary {
    box-shadow: 0 0 40px -10px hsl(175 70% 50% / 0.4);
  }

  .text-gradient {
    background: linear-gradient(135deg, hsl(175 70% 60%) 0%, hsl(175 70% 45%) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
}
